import{C as e,D as a,z as l,E as t,p as o,a as d,M as n,r as i,o as s,c as u,f as r,h as c,t as p,w as m}from"./vendor.1ab32ffb.js";import{C as g}from"./index.d8f3a830.js";const b={name:"basetable",mounted(){},methods:{handleEdit(e,a){this.editVisible=!0,this.changeData.id=a.id},saveEdit(){let l=this.changeData;for(let e in l)""===l[e]&&delete l[e];console.log(l),e.post("http://120.25.202.230:3007/my/userinfo",g.stringify(l)).then((e=>{console.log(e),a.success("修改成功,刷新页面查看更改数据情况")})).catch((e=>{console.log(e)}))}},data:()=>({id:2,editVisible:!1,user:{},changeData:{id:"",nickname:"",email:"",elab_group:"",elab_position:"",grade:"",major:""}}),setup(){const o=l({address:"",name:"",pageIndex:1,pageSize:10}),d=t([]),i=t(0),s=()=>{e.get("http://120.25.202.230:3007/my/allmem/all").then((e=>{console.log(e.data),d.value=e.data.data})).catch((e=>{console.log(e)}))};s();return{query:o,tableData:d,pageTotal:i,handleSearch:()=>{o.pageIndex=1,s()},handlePageChange:e=>{o.pageIndex=e,s()},handleDelete:e=>{n.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{a.success("删除成功"),d.value.splice(e,1)})).catch((()=>{}))}}}},h=m();o("data-v-dd71b884");const f={class:"crumbs"},V=r("i",{class:"el-icon-lx-cascades"},null,-1),_=c(" 基础表格 "),D={class:"container"},y={class:"handle-box"},v=c("编辑 "),C=c("删除"),k={class:"pagination"},x={class:"dialog-footer"},w=c("取 消"),U=c("确 定");d();const q=h(((e,a,l,t,o,d)=>{const n=i("el-breadcrumb-item"),m=i("el-breadcrumb"),g=i("el-option"),b=i("el-select"),q=i("el-input"),j=i("el-table-column"),I=i("el-image"),z=i("el-button"),E=i("el-table"),S=i("el-pagination"),T=i("el-form-item"),P=i("el-form"),$=i("el-dialog");return s(),u("div",null,[r("div",f,[r(m,{separator:"/"},{default:h((()=>[r(n,null,{default:h((()=>[V,_])),_:1})])),_:1})]),r("div",D,[r("div",y,[r(b,{modelValue:t.query.address,"onUpdate:modelValue":a[1]||(a[1]=e=>t.query.address=e),placeholder:"组别",class:"handle-select mr10"},{default:h((()=>[r(g,{key:"1",label:"软件组",value:"软件组"}),r(g,{key:"2",label:"电子组",value:"电子组"})])),_:1},8,["modelValue"]),r(q,{modelValue:t.query.name,"onUpdate:modelValue":a[2]||(a[2]=e=>t.query.name=e),placeholder:"用户名",class:"handle-input mr10"},null,8,["modelValue"])]),r(E,{data:t.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:h((()=>[r(j,{prop:"id",label:"ID",width:"55",align:"center"}),r(j,{prop:"nickname",label:"用户名"}),r(j,{label:"年级"},{default:h((e=>[c(p(e.row.grade),1)])),_:1}),r(j,{prop:"elab_group",label:"组别"}),r(j,{prop:"elab_position",label:"职务"}),r(j,{label:"头像",align:"center"},{default:h((e=>[r(I,{class:"table-td-thumb",src:e.row.photo,"preview-src-list":[e.row.photo]},null,8,["src","preview-src-list"])])),_:1}),r(j,{prop:"major",label:"专业"}),r(j,{prop:"email",label:"邮箱"}),r(j,{label:"操作",width:"180",align:"center"},{default:h((e=>[r(z,{type:"text",icon:"el-icon-edit",onClick:a=>d.handleEdit(e.$index,e.row)},{default:h((()=>[v])),_:2},1032,["onClick"]),r(z,{type:"text",icon:"el-icon-delete",class:"red",onClick:a=>t.handleDelete(e.$index,e.row)},{default:h((()=>[C])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),r("div",k,[r(S,{background:"",layout:"total, prev, pager, next","current-page":t.query.pageIndex,"page-size":t.query.pageSize,total:t.pageTotal,onCurrentChange:t.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),r($,{title:"编辑  --只填你想更改的信息",modelValue:o.editVisible,"onUpdate:modelValue":a[10]||(a[10]=e=>o.editVisible=e),width:"30%"},{footer:h((()=>[r("span",x,[r(z,{onClick:a[9]||(a[9]=e=>o.editVisible=!1)},{default:h((()=>[w])),_:1}),r(z,{type:"primary",onClick:d.saveEdit},{default:h((()=>[U])),_:1},8,["onClick"])])])),default:h((()=>[r(P,{"label-width":"70px"},{default:h((()=>[r(T,{label:"用户名"},{default:h((()=>[r(q,{modelValue:o.changeData.nickname,"onUpdate:modelValue":a[3]||(a[3]=e=>o.changeData.nickname=e)},null,8,["modelValue"])])),_:1}),r(T,{label:"年级"},{default:h((()=>[r(q,{modelValue:o.changeData.group,"onUpdate:modelValue":a[4]||(a[4]=e=>o.changeData.group=e)},null,8,["modelValue"])])),_:1}),r(T,{label:"组别"},{default:h((()=>[r(q,{modelValue:o.changeData.elab_group,"onUpdate:modelValue":a[5]||(a[5]=e=>o.changeData.elab_group=e)},null,8,["modelValue"])])),_:1}),r(T,{label:"职务"},{default:h((()=>[r(q,{modelValue:o.changeData.elab_position,"onUpdate:modelValue":a[6]||(a[6]=e=>o.changeData.elab_position=e)},null,8,["modelValue"])])),_:1}),r(T,{label:"专业"},{default:h((()=>[r(q,{modelValue:o.changeData.major,"onUpdate:modelValue":a[7]||(a[7]=e=>o.changeData.major=e)},null,8,["modelValue"])])),_:1}),r(T,{label:"邮箱"},{default:h((()=>[r(q,{modelValue:o.changeData.email,"onUpdate:modelValue":a[8]||(a[8]=e=>o.changeData.email=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}));b.render=q,b.__scopeId="data-v-dd71b884";export default b;
